function [W,B]=RLMVR(x,t,M,xtest,ttest,tipofb,lamda)
    N=length(x);
    PHI=genBasisFunction(tipofb,x,N,M);
    [alpha,betae]=findAlphaBeta(PHI,M,N,t);
    PHIt    = genBasisFunction(tipofb,xNtot,Ntot,M);
    PHI_test= genBasisFunction(tipofb,xtest,length(xtest),M);
    SnInv = alpha*(length(x)) + betae*(PHI'*PHI);
    Sn = SnInv\eye(M);
    mn = betae*(Sn*PHI'*t);
    mean_pre=PHIt*mn;
    varianza=inv(betae*eye(length(xNtot)))+PHIt*Sn*PHIt';
    varianza=diag(sqrt(varianza'));
    E=(betae/2)*(ttest-PHI_test*mn)'*(ttest-PHI_test*mn)+(alpha/2)*(mn'*mn);

end